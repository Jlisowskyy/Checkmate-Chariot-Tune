TODOS:

- fix current code add proper error checking etc to proceed add correct state checking
- implement socket connection


DISTANT TODO:
- add some restore mechanism on fails